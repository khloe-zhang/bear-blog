---
title: "读书笔记之《让云落地——云计算服务模式（SaaS、PaaS和IaaS）设计决策》"
date: 2025-09-22T00:18:06+08:00
# lastmod: 2022-05-05T00:18:06+08:00
author: ["Bear"]
keywords: 
- 
categories: 
- 
tags: 
- Cloud
description: ""
weight:
slug: ""
draft: false # 是否为草稿
comments: true
mermaid: true #是否开启mermaid
showToc: true # 显示目录
TocOpen: true # 自动展开目录
hidemeta: false # 是否隐藏文章的元信息，如发布日期、作者等
disableShare: true # 底部不显示分享栏
showbreadcrumbs: true #顶部显示路径
cover:
    image: "posts/read/cloud/cover.png"
    caption: "" #图片底部描述
    alt: ""
    relative: false
---

作者 Michael J. Kavis，电子工业出版社，出版时间 2016 年。适合了解基础的方案架构设计思路。由于近些年技术发展速度太快，书中部分技术内容可能看起来比较过时，但是谈到云服务的特性等比较稳定的概念时，有配合易懂的讲解和案例，还是很适合入门学习。

书本印刷信息页给出的内容介绍：
  > “云计算落地已成事实。从前几年的概念普及，到如今越来越多的企业将业务迁移至云上，云计算正在改变整个社会的信息资源使用观念和方式。云计算还在不断成长，技术细节也在不断变化之中。对于使用者而言，能够基于自身的业务、技术和组织需求等各方面情况，选择正确的云服务模式，是成功使用云计算最关键的技术决策之一。本书共有16章，作者有意避开了那些与产品或供应商相关的细节，侧重于架构师及架构涉及各方应当解决的各种挑战，或者说如何以适当的解决方案来解决业务问题;通过对具体问题的分析和案例讲解，向读者提供了大量可供参考的设计决策，并对所有云架构中都必须应对的重点领域进行了强调说明。对于每一位想要或正在实施云计算项目的首席技术官、企业架构师、产品经理和技术决策者，本书都是必读之作。”



<figure>
  <div align=center><img src="/posts/read/cloud/cover-full.png"  style="width: 50%; height:auto;" alt="书封面"></div>
  <figcaption></figcaption>
</figure>

下面是读书笔记，遇到有启发的点就随手记录了感受，比较杂乱，不能形成完整的文章。

<figure>
  <div align=center><img src="/posts/read/cloud/curve.png"  style="width: 50%; height:auto;" alt="云的成熟度曲线"></div>
  <figcaption>云的成熟度曲线</figcaption>
</figure>

成书在2016年，过去这么久，现在是否已经进入了“生产平稳期”？


<figure>
  <div align=center><img src="/posts/read/cloud/hosting-vs-cloud.png"  style="width: 60%; height:auto;" alt="托管还是上云？"></div>
  <figcaption>托管还是上云？</figcaption>
</figure>

云的一大特性是弹性，如果只是为了不想打理基础设施，可以选择托管服务而不是上云。

<figure>
  <div align=center><img src="/posts/read/cloud/choice.png"  style="width: 60%; height:auto;" alt="是否适合上云"></div>
  <figcaption></figcaption>
</figure>

并不是所有的应用都适合迁移到云端。盲目使用云服务不一定能降低成本，如果没有在适合的时候关停不需要的云服务，成本可能更高——云计算资源可以很容易地获取，因此也可能很容易地成本激增，需要合适的管控措施；或者本地已有的架构迁移到云服务的难度太大，不如留在本地或者考虑SaaS服务。

客户需求决定了要采用什么样的云方案，比如社交媒用户会自愿交换数据使用权，因此可以考虑使用公有云；而政府、医疗系统对数据安全和机密性有更高要求，客户可能会要求部分数据留在私有云或本地。是需求驱动决策，而非决策驱动需求。
社交媒体网站可能更看重大规模支撑和高运行时间；医疗平台更看重零风险。

<figure>
  <div align=center><img src="/posts/read/cloud/user-need.png"  style="width: 60%; height:auto;" alt="客户需求驱动决策"></div>
  <figcaption>客户需求驱动决策</figcaption>
</figure>

使用云计算面临的困难有：内部技能的缺乏和现有系统整合的复杂性。

<figure>
  <div align=center><img src="/posts/read/cloud/challenge.png"  style="width: 60%; height:auto;" alt="云计算面临的困难"></div>
  <figcaption></figcaption>
</figure>

企业可能要考虑，上云之后技术栈的变化带来的影响，比如哪些技术人员要转型，哪些技术要引入，哪些工作要找专门的服务公司提供支持等。

伴随着上云，企业IT部门也迎来了转型的机会，从成本中心向价值中心演进（从消耗企业的钱，到为企业创造价值）。在数字化转型过程中，IT部门能够挖掘数据的价值，为业务提供建议。

云原生合适的技术设计：
微服务、容器化、DevOps与持续交付，敏捷方法论

纵向扩展（scaling up）是硬件升级，紧耦合，对硬件的依赖性强。
横向扩展（scaling out）是增加同时运行的设备，松耦合。


设计解决方案时的**功能性**和**非功能性**需求：
<figure>
  <div align=center><img src="/posts/read/cloud/functional.png"  style="width: 60%; height:auto;" alt="功能性需求"></div>
  <figcaption>功能性需求</figcaption>
</figure>
<figure>
  <div align=center><img src="/posts/read/cloud/nonfunctional.png"  style="width: 50%; height:auto;" alt="非功能性需求"></div>
  <figcaption>非功能性需求</figcaption>
</figure>


**制定架构时需要考虑的几个方面——5W1H：**

- why 原因：要解决什么问题，业务目标和驱动力是什么

- who 什么人：谁想解决这些问题，参与者都有什么人，有什么特征（组织性质，所处行业）

- what 什么事：为了解决问题，技术上的具体需求有什么（功能性和非功能性需求），有哪些风险

- where 地方：服务的地点，是否有地区性约束

- when 时候及约束条件：需要什么时间完成，预算是多少，与其他项目是否有关联，其他人为限制（如指定不要公有云，指定要哪家云服务商）

- how 如何：企业目前的状况是什么样的——是否有技术储备，财务部门是否接受固定支出转向可变支出；企业文化思维是什么，是否接受转变，是否有能力进行转变

**决定采用什么云服务模式时，评估以下5个方面：**

1. 技术：性能，扩展性，安全性，监管，业务可持续，容灾

2. 财务：重构还是迁移，成本不同

3. 战略：快速上市还是全盘把控，SaaS前者，IaaS后者

4. 组织：能力水平，不够就选SaaS，技术够就选IaaS

5. 风险：漏洞会造成多大伤害，决定了选择公私或混合

**如何选择 IaaS、PaaS 或 SaaS：**
- SaaS：适合非核心业务，如人力、财务等，可购入 ERP 或 CRM 软件，这些业务不会带来附加价值
- PaaS：提供商的资源是由许多客户共享的，因此会对每个客户有节流的限制。不适合海量数据或者处理大量分布式数据的应用。可以根据业务情况考虑给不同的业务使用IaaS或PaaS，比如买方服务是百万级的，就用IaaS，而卖方用PaaS，前提是这两个服务兼容。
- IaaS：有性能和扩展需求的服务，需要自行调整操作系统、应用服务器和数据库，对基础设施有更多的控制力。其次，故障风险低，PaaS提供商可能会停机，但IaaS允许自建冗余和容灾。

沿着SaaS向上，面向市场的速度会提高，所需运营成本变少；朝着IaaS向下，对基础设施有更多控制力，避免服务中断或能快速恢复。

P91-92的案例很好，讲述了公有云与混合云的实施决策原因

进行方案选择时，要对业务随着时间的推移而出现的未来状态进行预判，而不仅仅着眼于当前的需要。

静态数据，包括按照时间顺序发生的数据，如银行转账、页面浏览量等，属于“一次写入，多次读取”，在某一个时间点发生，但后续会多次读取以进行分析。这种数据占据大量空间，所以使用 NoSQL技术。
动态数据，经常发生变化，一般使用关系型数据库，也就是SQL。

数据处理的两种模式：[OLAP和OLTP OLAP与OLTP：深度解析两者的核心差异](https://baijiahao.baidu.com/s?id=1785151816559740554&wfr=spider&for=pc)

第150页讲了NoSQL的4种数据库，包括键值存储、列存储、文档存储、图像数据库。
- 键值存储：采用哈希表，每个带有指针的唯一的键都会指向一个特定的数据项。这是4个里面最简单的一种存储，速度快，高扩展，但不适合处理复杂数据和关系。典型Redis，DynamoDB
- 列存储：哈希值指向多个列，不适用于高度连接的数据，典型Hadoop
- 文档存储：如XML、JSON，存日志用，典型MongoDB
- 图像存储：展现关系的可视化表述，可用于社交媒体分析

第14章 P273 对DevOps的讲解非常好。
DevOps 实际上是对工作流的重构，提高团队成员之间的沟通和协作，让开发、测试、质量、运维等团队紧密地联系在一起，每个人都对产品的最终质量负责。在产品的整个生命周期，每个部门都要involve进来，持续沟通和探讨各自的工作模式和交付物。最终，更快、更可靠地提供更高质量的产品。

相反，在传统的工作流中，每个部门可能互相推诿，急于在ddl之前完成自己的部分，然后把球踢到下一个部门那，最终导致一大堆漏洞，比如说研发赶紧写出来代码然后推给测试和QA，测试急忙完成自己的部分然后推给运维，到了产品周期的最后关头运维才发现环境不兼容，导致从头改。

团队成功的关键：人员、技术、流程，DevOps就是流程
提问：为什么云适合用DevOps工作流？


插播一小段《数字化转型架构_方法论与云原生实践》读书笔记：

关于云原生架构的定义，阿里云在2020年发布的《云原生架构白皮书》中给出了比较明确的定义：云原生架构是基于云原生技术的一组架构原则和设计模式的集合，旨在将云应用中的**非业务代码**部分进行**最大化的剥离**，从而让云设施接管应用中原有的大量**非功能特性**，如高可用、可扩展、容灾、易用性、可测试性、安全特性等能力。

架构设计的演进流程：

集中式：单体架构，CS和BS端应用
→

分布式：SOA，按照一定的粒度划分，通过接口互通
→

微服务：更细粒度的划分，拆分成多个应用，松耦合
→

云原生：应用在最初的时候就基于云的特点来设计，弹性、可靠、松耦合、易于管理和观测。

云原生的核心技术包括：容器、微服务、Serverless、Service Mesh、DevOps等。

云原生的好处：
- 降低开发复杂度和运维工作量。云原生把三方软硬件的能力升级为服务，使得业务代码的开发人员不需要掌握复杂的分布式或者底层网络技术，让企业更加关注业务本身，提升研发效率。
- 提供大量非功能特性。
- 自动化的软件交付，提升资源利用率，提供统一的基础设施，如操作系统、容器、Kubernetes


